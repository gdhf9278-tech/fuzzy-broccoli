<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<title>VK Mill Customer</title>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>
<style>
body { font-family: Arial; padding: 20px; background: #f0f8ff; font-size: 14px; }
input, button { display: block; margin: 10px 0; padding: 10px; width: 300px; }
button { cursor: pointer; }
h2, h3 { color: #00796b; }
#details { margin-top: 20px; border: 1px solid #ddd; padding: 10px; background: #e6f7ff; }
</style>
</head>
<body>

<h2>VK Mill Customer App</h2>
<p>Made by Vivek Kumar</p>

<!-- Search Section -->
<h3>ğŸ” Search Customer Details</h3>
<input type="text" id="searchInput" placeholder="Serial Number à¤¯à¤¾ Name à¤¡à¤¾à¤²à¥‡à¤‚">
<button onclick="searchCustomer()">Search</button>

<!-- Details Section -->
<div id="details" style="display:none;">
<h3>Customer Details</h3>
<p><b>Serial:</b> <span id="detailSerial"></span></p>
<p><b>Name:</b> <span id="detailName"></span></p>
<p><b>Village:</b> <span id="detailVillage"></span></p>
<p><b>Type:</b> <span id="detailType"></span></p>
<p><b>Weight:</b> <span id="detailWeight"></span></p>
</div>

<script>
const firebaseConfig={
Â  apiKey:"AIzaSyAj6dcL-zPijyQSNgRNuSjrYvT9RgGUFRA",
Â  authDomain:"vkcustomerapp.firebaseapp.com",
Â  databaseURL:"https://vkcustomerapp-default-rtdb.asia-southeast1.firebasedatabase.app",
Â  projectId:"vkcustomerapp",
Â  storageBucket:"vkcustomerapp.firebasestorage.app",
Â  messagingSenderId:"385333707391",
Â  appId:"1:385333707391:web:dea5dd3821b8fe5afbb54a",
Â  measurementId:"G-6GHDNL5N5S"
};
firebase.initializeApp(firebaseConfig);
const auth=firebase.auth();
const db=firebase.firestore();

// Auto login
const email = "vijaybhagat62074@gmail.com";
const password = "9815237898";
auth.signInWithEmailAndPassword(email,password)
.then(()=>console.log("Auto login successful"))
.catch(err=>alert("Login error: "+err.message));

// Search function
async function searchCustomer(){
Â  const input=document.getElementById('searchInput').value.trim();
Â  if(!input){ alert("âš ï¸ Serial à¤¯à¤¾ Name à¤¡à¤¾à¤²à¥‡à¤‚"); return; }

Â  let snapshot;
Â  if(!isNaN(input)){ 
Â Â Â  // Search by Serial number
Â Â Â  snapshot = await db.collection('customers').doc(input).get();
Â Â Â  if(snapshot.exists){
Â Â Â Â Â  displayDetails(snapshot.data());
Â Â Â  } else {
Â Â Â Â Â  alert("âŒ Customer not found");
Â Â Â Â Â  hideDetails();
Â Â Â  }
Â  } else {
Â Â Â  // Search by Name
Â Â Â  snapshot = await db.collection('customers').where('name','==',input).get();
Â Â Â  if(!snapshot.empty){
Â Â Â Â Â  displayDetails(snapshot.docs[0].data());
Â Â Â  } else {
Â Â Â Â Â  alert("âŒ Customer not found");
Â Â Â Â Â  hideDetails();
Â Â Â  }
Â  }
}

function displayDetails(data){
Â  document.getElementById('details').style.display='block';
Â  document.getElementById('detailSerial').textContent=data.serial;
Â  document.getElementById('detailName').textContent=data.name;
Â  document.getElementById('detailVillage').textContent=data.village;
Â  document.getElementById('detailType').textContent=data.type;
Â  document.getElementById('detailWeight').textContent=data.weight;
}

function hideDetails(){
Â  document.getElementById('details').style.display='none';
}
</script>
</body>
</html>
